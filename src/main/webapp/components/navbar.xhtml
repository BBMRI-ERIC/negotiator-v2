<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets">

    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <h:panelGroup styleClass="container" layout="block" id="navbar">
            <div class="navbar-header">

                <button type="button" class="navbar-toggle collapsed"
                    data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span> <span
                        class="icon-bar"></span> <span class="icon-bar"></span> <span
                        class="icon-bar"></span>
                </button>
                <h:link outcome="/index" styleClass="navbar-brand">
                    <span class="projectName">BBMRI<span
                    class="bbmriModule">.negotiator</span></span>
                </h:link>
            </div>

            <h:form>
                <div class="navbar-collapse collapse">
                    <ul class="nav navbar-nav navbar-right navbar-user">
                        <ui:fragment rendered="#{! userBean.loginValid}">
                            <li class="pull-right">
                                <a href="#{userBean.authenticationUrl}">Login</a>
                            </li>
                        </ui:fragment>

                        <ui:fragment rendered="#{userBean.loginValid}">
                            <li class="dropdown">
                                <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                                    <i class="fa fa-user fa-fw userIcon"/>
                                    #{userBean.realName.trim().length() > 0 ? userBean.realName : userBean.username} <span class="caret"></span>
                                </a>
                                <ul id="userPanel" class="dropdown-menu">
                                    <li>
                                        <h:commandLink action="#{userBean.profile}">
                                            <i class="fa fa-book"/> Profile
                                        </h:commandLink>
                                    </li>
                                    <li>
                                        <h:commandLink action="#{userBean.logout}">
                                            <i class="fa fa-sign-out"/> Logout
                                        </h:commandLink>
                                    </li>
                                </ul>
                            </li>
                        </ui:fragment>
                    </ul>
                </div>
            </h:form>
        </h:panelGroup>
    </nav>
</ui:composition>
