<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">

	<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
		<h:panelGroup styleClass="container" layout="block" id="navbar">
			<h:panelGroup layout="block" styleClass="navbar-header">

				<button type="button" class="navbar-toggle collapsed"
					data-toggle="collapse" data-target=".navbar-collapse">
					<span class="sr-only">Toggle navigation</span> <span
						class="icon-bar"></span> <span class="icon-bar"></span> <span
						class="icon-bar"></span>
				</button>
				<h:link outcome="/index" styleClass="navbar-brand">
					<span class="projectName">#{label['queryview.bbmri']}<span class="bbmriModule">#{label['queryview.negotiator']}</span></span>
				</h:link>
			</h:panelGroup>


			<h:form>
				<h:panelGroup layout="block" styleClass="navbar-collapse collapse">
					<ul class="nav navbar-nav">
						<c:if test="#{userBean.biobankOwner}">
						    <li class="dropdown"><a href="#" class="dropdown-toggle"
							    data-toggle="dropdown" role="button" aria-haspopup="true"
							    aria-expanded="false">#{label['queryview.myBiobank']}<span class="caret"></span></a>
							    <ul class="dropdown-menu">
								    <li>
								        <h:link value="#{label['queryview.inbox']}" outcome="/owner/index">  																		 
					  				    </h:link>
								
								    </li>
								    <li>
								        <h:link outcome="/owner/index" value="#{label['queryview.starred']}" title="#{label['queryview.action.viewStarred']}" >
								            <f:param name="flag" value="STARRED"/>  																		 
					  				    </h:link>								
								    </li>								
								    <li>								
								        <h:link outcome="/owner/index" value="#{label['queryview.archived']}" title="#{label['queryview.action.viewArchived']}" >
								            <f:param name="flag" value="ARCHIVED"/>  																		 
					  				    </h:link>								
								    </li>
								    <li>								
								        <h:link outcome="/owner/index" value="#{label['queryview.ignored']}" title="#{label['queryview.action.viewIgnored']}" >
								            <f:param name="flag" value="IGNORED"/>  																		 
					  			        </h:link>
								    </li>
							    </ul>
						    </li>
						</c:if>
						<c:if test="#{userBean.researcher}">
						    <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
							    aria-expanded="false">#{label['queryview.myQueries']} <span class="caret"></span></a>
							    <ul class="dropdown-menu">							
								    <li>
								        <h:link value="#{label['queryview.myCreatedQueries']}" outcome="/researcher/index.xhtml"> 
								        </h:link>								
								    </li>															
							    </ul>
						    </li>
						</c:if>						
					</ul>


					<ul class="nav navbar-nav navbar-right navbar-user">
						<ui:fragment rendered="#{! userBean.loginValid}">
							<li class="pull-right"><a
								href="#{userBean.authenticationUrl}">#{label['queryview.login']}</a></li>
						</ui:fragment>

						<ui:fragment rendered="#{userBean.loginValid}">
							<li class="dropdown"><a class="dropdown-toggle"
								data-toggle="dropdown" href="#"> <i
									class="fa fa-user fa-fw userIcon" />
									#{userBean.userRealName.trim().length() > 0 ?
									userBean.userRealName : userBean.userEmail} <span class="caret"></span>
							</a>
								<ul id="userPanel" class="dropdown-menu">
									<li><h:commandLink action="#{userBean.profile}">
											<i class="fa fa-book" /> #{label['queryview.profile']}
                                        </h:commandLink></li>
									<li><h:commandLink action="#{userBean.logout}">
											<i class="fa fa-sign-out" /> #{label['queryview.logout']}
                                        </h:commandLink></li>
								</ul></li>
						</ui:fragment>
					</ul>
				</h:panelGroup>
			</h:form>
		</h:panelGroup>

	</nav>
</ui:composition>
